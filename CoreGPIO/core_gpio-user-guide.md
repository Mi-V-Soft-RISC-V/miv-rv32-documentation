<html>
 
 ------------------------------------ 

# CoreGPIO Bare Metal Driver.
 
-----------------------------------------
## Table of Contents 
  - [Introduction](#introduction)

  - [Driver Configuration](#driver-configuration)

  - [Theory of Operation](#theory-of-operation)

- [Types](#types)
  - [gpio_id_t](#gpioidt)
  - [gpio_apb_width_t](#gpioapbwidtht)
  - [gpio_instance_t](#gpioinstancet)
  - [gpio_inout_state_t](#gpioinoutstatet)

- [Constants](#constants)
  - [GPIO_0_MASK](#gpio0mask)
  - [GPIO_1_MASK](#gpio1mask)
  - [GPIO_2_MASK](#gpio2mask)
  - [GPIO_3_MASK](#gpio3mask)
  - [GPIO_4_MASK](#gpio4mask)
  - [GPIO_5_MASK](#gpio5mask)
  - [GPIO_6_MASK](#gpio6mask)
  - [GPIO_7_MASK](#gpio7mask)
  - [GPIO_8_MASK](#gpio8mask)
  - [GPIO_9_MASK](#gpio9mask)
  - [GPIO_10_MASK](#gpio10mask)
  - [GPIO_11_MASK](#gpio11mask)
  - [GPIO_12_MASK](#gpio12mask)
  - [GPIO_13_MASK](#gpio13mask)
  - [GPIO_14_MASK](#gpio14mask)
  - [GPIO_15_MASK](#gpio15mask)
  - [GPIO_16_MASK](#gpio16mask)
  - [GPIO_17_MASK](#gpio17mask)
  - [GPIO_18_MASK](#gpio18mask)
  - [GPIO_19_MASK](#gpio19mask)
  - [GPIO_20_MASK](#gpio20mask)
  - [GPIO_21_MASK](#gpio21mask)
  - [GPIO_22_MASK](#gpio22mask)
  - [GPIO_23_MASK](#gpio23mask)
  - [GPIO_24_MASK](#gpio24mask)
  - [GPIO_25_MASK](#gpio25mask)
  - [GPIO_26_MASK](#gpio26mask)
  - [GPIO_27_MASK](#gpio27mask)
  - [GPIO_28_MASK](#gpio28mask)
  - [GPIO_29_MASK](#gpio29mask)
  - [GPIO_30_MASK](#gpio30mask)
  - [GPIO_31_MASK](#gpio31mask)
  - [GPIO_INPUT_MODE](#gpioinputmode)
  - [GPIO_OUTPUT_MODE](#gpiooutputmode)
  - [GPIO_INOUT_MODE](#gpioinoutmode)
  - [GPIO_IRQ_LEVEL_HIGH](#gpioirqlevelhigh)
  - [GPIO_IRQ_LEVEL_LOW](#gpioirqlevellow)
  - [GPIO_IRQ_EDGE_POSITIVE](#gpioirqedgepositive)
  - [GPIO_IRQ_EDGE_NEGATIVE](#gpioirqedgenegative)
  - [GPIO_IRQ_EDGE_BOTH](#gpioirqedgeboth)

- [Functions](#functions)
  - [GPIO_init](#gpioinit)
  - [GPIO_config](#gpioconfig)
  - [GPIO_set_outputs](#gpiosetoutputs)
  - [GPIO_set_output](#gpiosetoutput)
  - [GPIO_get_inputs](#gpiogetinputs)
  - [GPIO_get_outputs](#gpiogetoutputs)
  - [GPIO_drive_inout](#gpiodriveinout)
  - [GPIO_enable_irq](#gpioenableirq)
  - [GPIO_disable_irq](#gpiodisableirq)
  - [GPIO_clear_irq](#gpioclearirq)
  - [GPIO_get_irq_sources](#gpiogetirqsources)
  - [GPIO_clear_all_irq_sources](#gpioclearallirqsources)

<div id="TitlePage" data-type="text">

# Introduction
The CoreGPIO hardware IP includes up to 32 general-purpose input/output GPIOs.
This driver provides a set of functions for controlling the GPIOs as part of a
bare-metal system where no operating system is available. These drivers can be
adapted for use as part of an operating system, but the implementation of the
adaptation layer between this driver and the operating system's driver model is
outside the scope of this driver.

# Driver Configuration
The individual IOs of CoreGPIO can be configured either in the hardware flow or
as part of the software application through calls to the GPIO_config() function.
GPIOs configured as part of the hardware are fixed and cannot be modified using
a call to the GPI_config() function.

# Theory of Operation
The CoreGPIO driver uses the Actel Hardware Abstraction Layer (HAL) to access
hardware registers. You must ensure that the Actel HAL is included as part of
your software project. The Actel HAL is available through the Actel Firmware
Catalog.

The CoreGPIO driver functions are logically grouped into the following groups:

  - Initialization
  - Configuration
  - Reading and writing GPIO state
  - Interrupt control

The CoreGPIO driver is initialized through a call to the GPIO_init() function.
The GPIO_init() function must be called before any other GPIO driver functions
can be called.

Each GPIO port is individually configured through a call to the GPIO_config()
function. Configuration includes deciding if a GPIO port is going to be used as
input, output, or both. GPIO ports configured as inputs are further configured
to generate interrupts based on the state of input. Interrupts is either level-
or edge-sensitive.  
Note that a CoreGPIO hardware instance is generated as part
of the hardware flow with a fixed configuration for some or all of its IOs.
Attempting to modify the configuration of such a hardware-configured IO using
the GPIO_config() function has no effect.

The state of the GPIO ports can be read and written using the following
functions:

  - GPIO_get_inputs()
  - GPIO_get_outputs()
  - GPIO_set_outputs()
  - GPIO_drive_inout()

Interrupts generated by GPIO ports configured as inputs are controlled using the
following functions:

  - GPIO_enable_irq()
  - GPIO_disable_irq()
  - GPIO_clear_irq()
  - GPIO_get_irq_sources()
  - GPIO_clear_all_irq_sources() 

</div>


# Types

 ---------------- 
<a name="gpioidt"></a>
## gpio_id_t
<a name="prototype"></a>
### Prototype 

<div id="Types$gpio_id_t$prototype" data-type="code">

 ``` 
    typedef enum {
        GPIO_0 = 0,
        GPIO_1 = 1,
        GPIO_2 = 2,
        GPIO_3 = 3,
        GPIO_4 = 4,
        GPIO_5 = 5,
        GPIO_6 = 6,
        GPIO_7 = 7,
        GPIO_8 = 8,
        GPIO_9 = 9,
        GPIO_10 = 10,
        GPIO_11 = 11,
        GPIO_12 = 12,
        GPIO_13 = 13,
        GPIO_14 = 14,
        GPIO_15 = 15,
        GPIO_16 = 16,
        GPIO_17 = 17,
        GPIO_18 = 18,
        GPIO_19 = 19,
        GPIO_20 = 20,
        GPIO_21 = 21,
        GPIO_22 = 22,
        GPIO_23 = 23,
        GPIO_24 = 24,
        GPIO_25 = 25,
        GPIO_26 = 26,
        GPIO_27 = 27,
        GPIO_28 = 28,
        GPIO_29 = 29,
        GPIO_30 = 30,
        GPIO_31 = 31
    } gpio_id_t;


 ``` 


</div>

<a name="description"></a>
### Description 

<div id="Types$gpio_id_t$description" data-type="text">

The gpio_id_t enumeration is used to identify GPIOs as part of the parameter to
functions:

  - GPIO_config(),
  - GPIO_drive_inout(),
  - GPIO_enable_int(),
  - GPIO_disable_int(),
  - GPIO_clear_int() 


</div>


 --------------------------- 
<a name="gpioapbwidtht"></a>
## gpio_apb_width_t
<a name="prototype"></a>
### Prototype 

<div id="Types$gpio_apb_width_t$prototype" data-type="code">

 ``` 
    typedef enum {
        GPIO_APB_8_BITS_BUS = 0,
        GPIO_APB_16_BITS_BUS = 1,
        GPIO_APB_32_BITS_BUS = 2,
        GPIO_APB_UNKNOWN_BUS_WIDTH = 3
    } gpio_apb_width_t;


 ``` 


</div>

<a name="description"></a>
### Description 

<div id="Types$gpio_apb_width_t$description" data-type="text">

Possible width of the APB bus


</div>


 --------------------------- 
<a name="gpioinstancet"></a>
## gpio_instance_t
<a name="prototype"></a>
### Prototype 

<div id="Types$gpio_instance_t$prototype" data-type="code">

``` 
    typedef struct __gpio_instance_t {
        addr_t base_addr; 
        gpio_apb_width_t apb_bus_width; 
    } gpio_instance_t ;
  ``` 


</div>

<a name="description"></a>
### Description 

<div id="Types$gpio_instance_t$description" data-type="text">

Structure instance holding all data regarding the CoreGPIO


</div>


 --------------------------- 
<a name="gpioinoutstatet"></a>
## gpio_inout_state_t
<a name="prototype"></a>
### Prototype 

<div id="Types$gpio_inout_state_t$prototype" data-type="code">

 ``` 
    typedef enum {
        GPIO_DRIVE_LOW = 0,
        GPIO_DRIVE_HIGH,
        GPIO_HIGH_Z
    } gpio_inout_state_t;


 ``` 


</div>

<a name="description"></a>
### Description 

<div id="Types$gpio_inout_state_t$description" data-type="text">

Possible states for GPIO configured as INOUT


</div>


 --------------------------- 

# Constants

 ---------------- 
<div id="Constants$GPIO_0_MASK$description" data-type="text">

<a name="gpio0mask"></a>
GPIO ports definitions used to identify GPIOs as part of the parameter to
function GPIO_set_outputs().  
These definitions are also be used to identity
GPIO through logical operations on the return value of function
GPIO_get_inputs().

## GPIO_0_MASK
## GPIO_1_MASK
## GPIO_2_MASK
## GPIO_3_MASK
## GPIO_4_MASK
## GPIO_5_MASK
## GPIO_6_MASK
## GPIO_7_MASK
## GPIO_8_MASK
## GPIO_9_MASK
## GPIO_10_MASK
## GPIO_11_MASK
## GPIO_12_MASK
## GPIO_13_MASK
## GPIO_14_MASK
## GPIO_15_MASK
## GPIO_16_MASK
## GPIO_17_MASK
## GPIO_18_MASK
## GPIO_19_MASK
## GPIO_20_MASK
## GPIO_21_MASK
## GPIO_22_MASK
## GPIO_23_MASK
## GPIO_24_MASK
## GPIO_25_MASK
## GPIO_26_MASK
## GPIO_27_MASK
## GPIO_28_MASK
## GPIO_29_MASK
## GPIO_30_MASK
## GPIO_31_MASK
</div>

<div id="Constants$GPIO_INPUT_MODE$description" data-type="text">

<a name="gpioinputmode"></a>
GPIO modes

## GPIO_INPUT_MODE
## GPIO_OUTPUT_MODE
## GPIO_INOUT_MODE
</div>

<div id="Constants$GPIO_IRQ_LEVEL_HIGH$description" data-type="text">

<a name="gpioirqlevelhigh"></a>
Possible GPIO inputs interrupt configurations.

## GPIO_IRQ_LEVEL_HIGH
## GPIO_IRQ_LEVEL_LOW
## GPIO_IRQ_EDGE_POSITIVE
## GPIO_IRQ_EDGE_NEGATIVE
## GPIO_IRQ_EDGE_BOTH
</div>


# Functions

 ---------------- 
<a name="gpioinit"></a>
## GPIO_init
<a name="prototype"></a>
### Prototype 

<div id="Functions$GPIO_init$prototype" data-type="code">

    void
    GPIO_init
    (
        gpio_instance_t * this_gpio,
        addr_t base_addr,
        gpio_apb_width_t bus_width
    );


</div>

<a name="description"></a>
### Description

<div id="Functions$GPIO_init$description" data-type="text">

The GPIO_init() function initializes a CoreGPIO hardware instance and the data
structure associated with the CoreGPIO hardware instance.  
Note that a CoreGPIO
hardware instance is generated with a fixed configuration for some or all of its
IOs as part of the hardware flow. Attempting to modify the configuration of such
a hardware-configured IO using the GPIO_config() function has no effect.

</div>


 --------------------------- 

<a name="parameters"></a>
### Parameters
#### this_gpio
<div id="Functions$GPIO_init$description$parameters$this_gpio" data-type="text" data-name="this_gpio">

Pointer to the gpio_instance_t data structure instance holding all data
regarding the CoreGPIO hardware instance being initialized. A pointer to the
same data structure is used in subsequent calls to the CoreGPIO driver functions
in order to identify the CoreGPIO instance that must perform the operation
implemented by the called driver function.


</div>

#### base_addr
<div id="Functions$GPIO_init$description$parameters$base_addr" data-type="text" data-name="base_addr">

The base_addr parameter is the base address in the memory map of the processor
for the registers of the GPIO instance being initialized.


</div>

#### bus_width
<div id="Functions$GPIO_init$description$parameters$bus_width" data-type="text" data-name="bus_width">

The bus_width parameter informs the driver of the APB bus width selected during
the hardware flow configuration of the CoreGPIO hardware instance. It indicates
to the driver whether the CoreGPIO hardware registers are visible as 8, 16, or
32-bits registers. Allowed values are:

  - GPIO_APB_8_BITS_BUS
  - GPIO_APB_16_BITS_BUS
  - GPIO_APB_32_BITS_BUS


</div>

<a name="return"></a>
### Return
<div id="Functions$GPIO_init$description$return" data-type="text">

none.


</div>

##### Example
<div id="Functions$GPIO_init$description$example$Example1" data-type="text" data-name="Example">

</div>

<div id="Functions$GPIO_init$description$example$Example1" data-type="code" data-name="Example">


```
    #define COREGPIO_BASE_ADDR  0xC2000000

    gpio_instance_t g_gpio;

    void system_init( void )
    {
        GPIO_init( &g_gpio,    COREGPIO_BASE_ADDR, GPIO_APB_32_BITS_BUS );
    }
```

</div>


 -------------------------------- 
<a name="gpioconfig"></a>
## GPIO_config
<a name="prototype"></a>
### Prototype 

<div id="Functions$GPIO_config$prototype" data-type="code">

    void
    GPIO_config
    (
        gpio_instance_t * this_gpio,
        gpio_id_t port_id,
        uint32_t config
    );


</div>

<a name="description"></a>
### Description

<div id="Functions$GPIO_config$description" data-type="text">

The GPIO_config() function is used to configure an individual GPIO port.

</div>


 --------------------------- 

<a name="parameters"></a>
### Parameters
#### this_gpio
<div id="Functions$GPIO_config$description$parameters$this_gpio" data-type="text" data-name="this_gpio">

The this_gpio parameter is a pointer to the gpio_instance_t structure holding
all the data regarding the CoreGPIO instance controlled through this function
call.


</div>

#### port_id
<div id="Functions$GPIO_config$description$parameters$port_id" data-type="text" data-name="port_id">

The port_id parameter identifies the GPIO port to be configured. An enumeration
item of the form GPIO_n, where n is the number of the GPIO port, is used to
identify the GPIO port. For example, GPIO_0 identifies the first GPIO port and
GPIO_31 the last one.


</div>

#### config
<div id="Functions$GPIO_config$description$parameters$config" data-type="text" data-name="config">

The config parameter specifies the configuration to be applied to the GPIO port
identified by the first parameter. It is a logical OR of GPIO mode and interrupt
mode. The interrupt mode is only relevant if the GPIO is configured as an input.

  - Possible modes are:
      - GPIO_INPUT_MODE,
      - GPIO_OUTPUT_MODE,
      - GPIO_INOUT_MODE.  


  - Possible interrupt modes are:  


      - GPIO_IRQ_LEVEL_HIGH,
      - GPIO_IRQ_LEVEL_LOW,
      - GPIO_IRQ_EDGE_POSITIVE,
      - GPIO_IRQ_EDGE_NEGATIVE,
      - GPIO_IRQ_EDGE_BOTH


</div>

<a name="return"></a>
### Return
<div id="Functions$GPIO_config$description$return" data-type="text">

none.


</div>

##### Example
<div id="Functions$GPIO_config$description$example$Example1" data-type="text" data-name="Example">
For example, the following call configures GPIO 4 as an input that generates
interrupts on a low-to-high transition of the input:


</div>

<div id="Functions$GPIO_config$description$example$Example1" data-type="code" data-name="Example">


```
    GPIO_config( &g_gpio, GPIO_4, GPIO_INPUT_MODE | GPIO_IRQ_EDGE_POSITIVE );
```

</div>


 -------------------------------- 
<a name="gpiosetoutputs"></a>
## GPIO_set_outputs
<a name="prototype"></a>
### Prototype 

<div id="Functions$GPIO_set_outputs$prototype" data-type="code">

    void
    GPIO_set_outputs
    (
        gpio_instance_t * this_gpio,
        uint32_t value
    );


</div>

<a name="description"></a>
### Description

<div id="Functions$GPIO_set_outputs$description" data-type="text">

The GPIO_set_outputs() function is used to set the state of the GPIO ports
configured as outputs.

</div>


 --------------------------- 

<a name="parameters"></a>
### Parameters
#### this_gpio
<div id="Functions$GPIO_set_outputs$description$parameters$this_gpio" data-type="text" data-name="this_gpio">

The this_gpio parameter is a pointer to the gpio_instance_t structure holding
all the data regarding the CoreGPIO instance controlled through this function
call.


</div>

#### value
<div id="Functions$GPIO_set_outputs$description$parameters$value" data-type="text" data-name="value">

The value parameter specifies the state of the GPIO ports configured as outputs.
It is a bit mask of the form (GPIO_n_MASK | GPIO_m_MASK), where n and m are
numbers identifying GPIOs.  
For example, (GPIO_0_MASK | GPIO_1_MASK |
GPIO_2_MASK ) specifies that the first, second, and third GPIO must be set high
and all other outputs set low.


</div>

<a name="return"></a>
### Return
<div id="Functions$GPIO_set_outputs$description$return" data-type="text">

none.


</div>

##### Example1
<div id="Functions$GPIO_set_outputs$description$example$Example1" data-type="text" data-name="Example1">
Set GPIO 0 and 8 outputs high and all other GPIO outputs low.


</div>

<div id="Functions$GPIO_set_outputs$description$example$Example1" data-type="code" data-name="Example1">


```
    GPIO_set_outputs( &g_gpio, GPIO_0_MASK | GPIO_8_MASK );
```

</div>

##### Example2
<div id="Functions$GPIO_set_outputs$description$example$Example2" data-type="text" data-name="Example2">
Set GPIO 2 and 4 outputs low without affecting the other GPIO outputs.


</div>

<div id="Functions$GPIO_set_outputs$description$example$Example2" data-type="code" data-name="Example2">


```
    uint32_t gpio_outputs;
    gpio_outputs = GPIO_get_outputs( &g_gpio );
    gpio_outputs &= ~( GPIO_2_MASK | GPIO_4_MASK );
    GPIO_set_outputs( &g_gpio, gpio_outputs );
```

</div>


 -------------------------------- 
<a name="gpiosetoutput"></a>
## GPIO_set_output
<a name="prototype"></a>
### Prototype 

<div id="Functions$GPIO_set_output$prototype" data-type="code">

    void
    GPIO_set_output
    (
        gpio_instance_t * this_gpio,
        gpio_id_t port_id,
        uint8_t value
    );


</div>

<a name="description"></a>
### Description

<div id="Functions$GPIO_set_output$description" data-type="text">

The GPIO_set_output() function is used to set the state of a single GPIO port
configured as an output.

</div>


 --------------------------- 

<a name="parameters"></a>
### Parameters
#### this_gpio
<div id="Functions$GPIO_set_output$description$parameters$this_gpio" data-type="text" data-name="this_gpio">

The this_gpio parameter is a pointer to the gpio_instance_t structure holding
all the data regarding the CoreGPIO instance controlled through this function
call.


</div>

#### port_id
<div id="Functions$GPIO_set_output$description$parameters$port_id" data-type="text" data-name="port_id">

The port_id parameter specifies the GPIO port that has its output set by a call
to this function.


</div>

#### value
<div id="Functions$GPIO_set_output$description$parameters$value" data-type="text" data-name="value">

The value parameter specifies the desired state for the GPIO output. A value of
0 sets the output low, and a value of 1 sets the port high.


</div>

<a name="return"></a>
### Return
<div id="Functions$GPIO_set_output$description$return" data-type="text">

none.


</div>


 -------------------------------- 
<a name="gpiogetinputs"></a>
## GPIO_get_inputs
<a name="prototype"></a>
### Prototype 

<div id="Functions$GPIO_get_inputs$prototype" data-type="code">

    uint32_t
    GPIO_get_inputs
    (
        gpio_instance_t * this_gpio
    );


</div>

<a name="description"></a>
### Description

<div id="Functions$GPIO_get_inputs$description" data-type="text">

The GPIO_get_inputs() function is used to read the state of all GPIOs configured
as inputs.

</div>


 --------------------------- 

<a name="parameters"></a>
### Parameters
#### this_gpio
<div id="Functions$GPIO_get_inputs$description$parameters$this_gpio" data-type="text" data-name="this_gpio">

The this_gpio parameter is a pointer to the gpio_instance_t structure holding
all the data regarding the CoreGPIO instance controlled through this function
call.


</div>

<a name="return"></a>
### Return
<div id="Functions$GPIO_get_inputs$description$return" data-type="text">

This function returns a 32-bit unsigned integer, where each bit represents the
state of an input. The least significant bit represents the state of GPIO 0, and
the most significant bit represents the state of GPIO 31.


</div>


 -------------------------------- 
<a name="gpiogetoutputs"></a>
## GPIO_get_outputs
<a name="prototype"></a>
### Prototype 

<div id="Functions$GPIO_get_outputs$prototype" data-type="code">

    uint32_t
    GPIO_get_outputs
    (
        gpio_instance_t * this_gpio
    );


</div>

<a name="description"></a>
### Description

<div id="Functions$GPIO_get_outputs$description" data-type="text">

The GPIO_get_outputs() function is used to read the current state of all GPIO
outputs.

</div>


 --------------------------- 

<a name="parameters"></a>
### Parameters
#### this_gpio
<div id="Functions$GPIO_get_outputs$description$parameters$this_gpio" data-type="text" data-name="this_gpio">

The this_gpio parameter is a pointer to the gpio_instance_t structure holding
all the data regarding the CoreGPIO instance controlled through this function
call.


</div>

<a name="return"></a>
### Return
<div id="Functions$GPIO_get_outputs$description$return" data-type="text">

This function returns a 32-bit unsigned integer where each bit represents the
state of an output. The least significant bit represents the state of GPIO 0,
and the most significant bit represents the state of GPIO 31.


</div>


 -------------------------------- 
<a name="gpiodriveinout"></a>
## GPIO_drive_inout
<a name="prototype"></a>
### Prototype 

<div id="Functions$GPIO_drive_inout$prototype" data-type="code">

    void
    GPIO_drive_inout
    (
        gpio_instance_t * this_gpio,
        gpio_id_t port_id,
        gpio_inout_state_t inout_state
    );


</div>

<a name="description"></a>
### Description

<div id="Functions$GPIO_drive_inout$description" data-type="text">

The GPIO_drive_inout() function is used to set the output state of a GPIO
configured as INOUT. An INOUT GPIO is in one of three states:

  - high
  - low
  - high impedance  



An INOUT output is typically be used where several devices drive the state of a
signal. The high and low states are equivalent to the high and low states of a
GPIO configured as an output. The high impedance state is used to prevent the
GPIO from driving the state of the output and therefore allow reading the state
of the GPIO as an input.  
Note that the GPIO port you wish to use as INOUT
through this function must be configurable through software. Therefore, the GPIO
ports used as INOUT must not have a fixed configuration selected as part of the
hardware flow.

</div>


 --------------------------- 

<a name="parameters"></a>
### Parameters
#### this_gpio
<div id="Functions$GPIO_drive_inout$description$parameters$this_gpio" data-type="text" data-name="this_gpio">

The this_gpio parameter is a pointer to the gpio_instance_t structure holding
all the data regarding the CoreGPIO instance controlled through this function
call.


</div>

#### port_id
<div id="Functions$GPIO_drive_inout$description$parameters$port_id" data-type="text" data-name="port_id">

The port_id parameter identifies the GPIO for which this function will change
the output state.  
An enumeration item of the form GPIO_n, where n is the
number of the GPIO port, is used to identify the GPIO port. For example, GPIO_0
identifies the first GPIO port and GPIO_31 the last one.


</div>

#### inout_state
<div id="Functions$GPIO_drive_inout$description$parameters$inout_state" data-type="text" data-name="inout_state">

The inout_state parameter specifies the state of the I/O identified by the first
parameter. Possible states are:

  - GPIO_DRIVE_HIGH,
  - GPIO_DRIVE_LOW,
  - GPIO_HIGH_Z (high impedance)


</div>

<a name="return"></a>
### Return
<div id="Functions$GPIO_drive_inout$description$return" data-type="text">

none.


</div>

##### Example
<div id="Functions$GPIO_drive_inout$description$example$Example1" data-type="text" data-name="Example">
The call to GPIO_drive_inout() below will set the GPIO 7 output to high
impedance state.


</div>

<div id="Functions$GPIO_drive_inout$description$example$Example1" data-type="code" data-name="Example">


```
    GPIO_drive_inout( &g_gpio, GPIO_7, GPIO_HIGH_Z );
```

</div>


 -------------------------------- 
<a name="gpioenableirq"></a>
## GPIO_enable_irq
<a name="prototype"></a>
### Prototype 

<div id="Functions$GPIO_enable_irq$prototype" data-type="code">

    void
    GPIO_enable_irq
    (
        gpio_instance_t * this_gpio,
        gpio_id_t port_id
    );


</div>

<a name="description"></a>
### Description

<div id="Functions$GPIO_enable_irq$description" data-type="text">

The GPIO_enable_irq() function is used to enable an interrupt to be generated
based on the state of the input identified as a parameter.

</div>


 --------------------------- 

<a name="parameters"></a>
### Parameters
#### this_gpio
<div id="Functions$GPIO_enable_irq$description$parameters$this_gpio" data-type="text" data-name="this_gpio">

The this_gpio parameter is a pointer to the gpio_instance_t structure holding
all the data regarding the CoreGPIO instance controlled through this function
call.


</div>

#### port_id
<div id="Functions$GPIO_enable_irq$description$parameters$port_id" data-type="text" data-name="port_id">

The port_id parameter identifies the GPIO input that the call to
GPIO_enable_irq() enables to generate interrupts.  
An enumeration item of the
form GPIO_n, where n is the number of the GPIO port, is used to identify the
GPIO port. For example, GPIO_0 identifies the first GPIO port and GPIO_31 the
last one.


</div>

<a name="return"></a>
### Return
<div id="Functions$GPIO_enable_irq$description$return" data-type="text">

none.


</div>

##### Example
<div id="Functions$GPIO_enable_irq$description$example$Example1" data-type="text" data-name="Example">
The call to GPIO_enable_irq() below allows GPIO 8 to generate interrupts.


</div>

<div id="Functions$GPIO_enable_irq$description$example$Example1" data-type="code" data-name="Example">


```
    GPIO_enable_irq( &g_gpio, GPIO_8 );
```

</div>


 -------------------------------- 
<a name="gpiodisableirq"></a>
## GPIO_disable_irq
<a name="prototype"></a>
### Prototype 

<div id="Functions$GPIO_disable_irq$prototype" data-type="code">

    void
    GPIO_disable_irq
    (
        gpio_instance_t * this_gpio,
        gpio_id_t port_id
    );


</div>

<a name="description"></a>
### Description

<div id="Functions$GPIO_disable_irq$description" data-type="text">

The GPIO_disable_irq() function is used to disable interrupts from being
generated based on the state of the input specified as a parameter.

</div>


 --------------------------- 

<a name="parameters"></a>
### Parameters
#### this_gpio
<div id="Functions$GPIO_disable_irq$description$parameters$this_gpio" data-type="text" data-name="this_gpio">

The this_gpio parameter is a pointer to the gpio_instance_t structure holding
all the data regarding the CoreGPIO instance controlled through this function
call.


</div>

#### port_id
<div id="Functions$GPIO_disable_irq$description$parameters$port_id" data-type="text" data-name="port_id">

The port_id parameter identifies the GPIO input that the call to
GPIO_disable_irq() disables from generating interrupts.  
An enumeration item of
the form GPIO_n, where n is the number of the GPIO port, is used to identify the
GPIO port. For example, GPIO_0 identifies the first GPIO port and GPIO_31 the
last one.


</div>

<a name="return"></a>
### Return
<div id="Functions$GPIO_disable_irq$description$return" data-type="text">

none.


</div>

##### Example
<div id="Functions$GPIO_disable_irq$description$example$Example1" data-type="text" data-name="Example">
The call to GPIO_disable_irq() below prevents GPIO 8 from generating interrupts.


</div>

<div id="Functions$GPIO_disable_irq$description$example$Example1" data-type="code" data-name="Example">


```
    GPIO_disable_irq( &g_gpio, GPIO_8 );
```

</div>


 -------------------------------- 
<a name="gpioclearirq"></a>
## GPIO_clear_irq
<a name="prototype"></a>
### Prototype 

<div id="Functions$GPIO_clear_irq$prototype" data-type="code">

    void
    GPIO_clear_irq
    (
        gpio_instance_t * this_gpio,
        gpio_id_t port_id
    );


</div>

<a name="description"></a>
### Description

<div id="Functions$GPIO_clear_irq$description" data-type="text">

The GPIO_clear_irq() function is used to clear the interrupt generated by the
GPIO specified as a parameter. The GPIO_clear_irq() function must be called as
part of a GPIO interrupt service routine (ISR) in order to prevent the same
interrupt event from re-triggering a call to the GPIO ISR.  
Note that
interrupts may also need to be cleared in the processor's interrupt controller.

</div>


 --------------------------- 

<a name="parameters"></a>
### Parameters
#### this_gpio
<div id="Functions$GPIO_clear_irq$description$parameters$this_gpio" data-type="text" data-name="this_gpio">

The this_gpio parameter is a pointer to the gpio_instance_t structure holding
all the data regarding the CoreGPIO instance controlled through this function
call.


</div>

#### port_id
<div id="Functions$GPIO_clear_irq$description$parameters$port_id" data-type="text" data-name="port_id">

The port_id parameter identifies the GPIO input for which to clear the
interrupt.  
An enumeration item of the form GPIO_n, where n is the number of
the GPIO port, is used to identify the GPIO port. For example, GPIO_0 identifies
the first GPIO port and GPIO_31 the last one.


</div>

<a name="return"></a>
### Return
<div id="Functions$GPIO_clear_irq$description$return" data-type="text">

none.


</div>

##### Example
<div id="Functions$GPIO_clear_irq$description$example$Example1" data-type="text" data-name="Example">
The example below demonstrates the use of the GPIO_clear_irq() function as part
of the GPIO-9 interrupt service routine.


</div>

<div id="Functions$GPIO_clear_irq$description$example$Example1" data-type="code" data-name="Example">


```
    void GPIO9_IRQHandler( void )
    {
        do_interrupt_processing();
        
        GPIO_clear_irq( &g_gpio, GPIO_9 );
        
        NVIC_ClearPendingIRQ( GPIO9_IRQn );
    }
```

</div>


 -------------------------------- 
<a name="gpiogetirqsources"></a>
## GPIO_get_irq_sources
<a name="prototype"></a>
### Prototype 

<div id="Functions$GPIO_get_irq_sources$prototype" data-type="code">

    uint32_t
    GPIO_get_irq_sources
    (
        gpio_instance_t * this_gpio
    );


</div>

<a name="description"></a>
### Description

<div id="Functions$GPIO_get_irq_sources$description" data-type="text">

The GPIO_get_irq_sources() function is used to identify the source of the
interrupt. i.e. to That is the GPIO input line, whose state change triggered
the interrupt. The GPIO_get_irq_sources() function must be called as part of  
a
GPIO interrupt service routine (ISR) in order to determine the interrupt source.

</div>


 --------------------------- 

<a name="parameters"></a>
### Parameters
#### this_gpio
<div id="Functions$GPIO_get_irq_sources$description$parameters$this_gpio" data-type="text" data-name="this_gpio">

The this_gpio parameter is a pointer to the gpio_instance_t structure holding
all the data regarding the CoreGPIO instance controlled through this function
call.


</div>

<a name="return"></a>
### Return
<div id="Functions$GPIO_get_irq_sources$description$return" data-type="text">

This function returns a 32-bit unsigned integer, where each bit represents the
pin number of a GPIO.


</div>

##### Example
<div id="Functions$GPIO_get_irq_sources$description$example$Example1" data-type="text" data-name="Example">
The example below demonstrates the use of the GPIO_get_irq_sources() function as
part of the GPIO-9 interrupt service routine.


</div>

<div id="Functions$GPIO_get_irq_sources$description$example$Example1" data-type="code" data-name="Example">


```
    void GPIO9_IRQHandler( void )
    {
        do_interrupt_processing();

        GPIO_clear_all_irq_sources(g_p_mygpio, GPIO_get_irq_sources(g_p_mygpio));

        NVIC_ClearPendingIRQ( GPIO9_IRQn );
    }
```

</div>


 -------------------------------- 
<a name="gpioclearallirqsources"></a>
## GPIO_clear_all_irq_sources
<a name="prototype"></a>
### Prototype 

<div id="Functions$GPIO_clear_all_irq_sources$prototype" data-type="code">

    void
    GPIO_clear_all_irq_sources
    (
        gpio_instance_t * this_gpio,
        uint32_t bitmask
    );


</div>

<a name="description"></a>
### Description

<div id="Functions$GPIO_clear_all_irq_sources$description" data-type="text">

The GPIO_clear_all_irq_sources() function is used to clear all the active
interrupts generated by the GPIO specified as a parameter. The
GPIO_clear_all_irq_sources() function must be called as part of a GPIO interrupt
service routine (ISR) in order to prevent the same interrupt event from re-
triggering a call to the GPIO ISR.  
Note that interrupts may also need to be
cleared in the processor's interrupt controller.

</div>


 --------------------------- 

<a name="parameters"></a>
### Parameters
#### this_gpio
<div id="Functions$GPIO_clear_all_irq_sources$description$parameters$this_gpio" data-type="text" data-name="this_gpio">

The this_gpio parameter is a pointer to the gpio_instance_t structure holding
all the data regarding the CoreGPIO instance controlled through this function
call.


</div>

#### bitmask
<div id="Functions$GPIO_clear_all_irq_sources$description$parameters$bitmask" data-type="text" data-name="bitmask">

This bitmask parameter is a 32-bit unsigned integer where each bit represents
the GPIO pin used to clear the interrupt bit register of the corresponding GPIO
bit. The least significant bit represents the status of GPIO 0, and the most
significant bit represents the status of GPIO 31.


</div>

<a name="return"></a>
### Return
<div id="Functions$GPIO_clear_all_irq_sources$description$return" data-type="text">

none.


</div>

##### Example
<div id="Functions$GPIO_clear_all_irq_sources$description$example$Example1" data-type="text" data-name="Example">
The example below demonstrates the use of the GPIO_clear_all_irq_sources()
function as part of the GPIO-9 interrupt service routine.


</div>

<div id="Functions$GPIO_clear_all_irq_sources$description$example$Example1" data-type="code" data-name="Example">


```
    void GPIO9_IRQHandler( void )
    {
        do_interrupt_processing();

        do_interrupt_processing();

        GPIO_clear_all_irq_sources(g_p_mygpio, GPIO_get_irq_sources(g_p_mygpio));

        NVIC_ClearPendingIRQ( GPIO9_IRQn );
    }
```

</div>


 -------------------------------- 
